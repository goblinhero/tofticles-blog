<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  
    class="html theme--light"
  
><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
    
      
        Rant - Azure Portal |
      Magnus Toftdal

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.124.0"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Magnus Toftdal" />
  <meta
    name="description"
    content="There are no silver bullets! 
Here, have mine
"
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.772eefee9824c26da5d3828c2507ea318c8e7a37b0b1d18cd4f224edc2755fea.css"
      integrity="sha256-dy7v7pgkwm2l04KMJQfqMYyOejewsdGM1PIk7cJ1X&#43;o="
      crossorigin="anonymous"
      type="text/css"
    />
  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css"
    integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA="
    crossorigin="anonymous"
    type="text/css"
  />
  
    
    
    <link
      rel="stylesheet"
      href="/css/custom.min.910eb93950d8bbbc989d4d1c78356baa8a2f649e4956e003b91741fe931354b9.css"
      integrity="sha256-kQ65OVDYu7yYnU0ceDVrqoovZJ5JVuADuRdB/pMTVLk="
      crossorigin="anonymous"
      media="screen"
    />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css"
    integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css"
    integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css"
    integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css"
    integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <link rel="canonical" href="http://localhost:1313/2023/rant-azure-portal/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js"
      integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc="
      crossorigin="anonymous"
    ></script>
  

  


  
  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Rant - Azure Portal"/>
<meta name="twitter:description" content="Ranting is healthy - Azure Portal is an abundant source!"/>



  
  <meta property="og:title" content="Rant - Azure Portal" />
<meta property="og:description" content="Ranting is healthy - Azure Portal is an abundant source!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/2023/rant-azure-portal/" /><meta property="article:section" content="2023" />
<meta property="article:published_time" content="2023-11-21T10:41:02+01:00" />
<meta property="article:modified_time" content="2023-11-21T10:41:02+01:00" /><meta property="og:site_name" content="Adventures of Tofticles" />



  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "2023",
        "name": "Rant - Azure Portal",
        "headline": "Rant - Azure Portal",
        "alternativeHeadline": "",
        "description": "
      
        Ranting is healthy - Azure Portal is an abundant source!


      


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/2023\/rant-azure-portal\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Magnus Toftdal"
        },
        "creator" : {
            "@type": "Person",
            "name": "Magnus Toftdal"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Magnus Toftdal"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Magnus Toftdal"
        },
        "copyrightYear" : "2023",
        "dateCreated": "2023-11-21T10:41:02.00Z",
        "datePublished": "2023-11-21T10:41:02.00Z",
        "dateModified": "2023-11-21T10:41:02.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Magnus Toftdal",
            "url": "http://localhost:1313/",
            "logo": {
                "@type": "ImageObject",
                "url": "http:\/\/localhost:1313\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "http:\/\/localhost:1313\/2023\/rant-azure-portal\/",
        "wordCount" : "685",
        "genre" : [ ],
        "keywords" : [ ]
    }
  </script>


</head>
<body class="body">
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar wrapper__sidebar--hidden"
        
      ><div
  class="sidebar
    animated fadeInDown
  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/tofticles.jpg"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/">Adventures of Tofticles</a>
        </div>
      
      <div class="sidebar__introduction-description">
        <p>There are no silver bullets! <br />Here, have mine<br /></p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://helvede.net/@tofticles"
            target="_blank"
            rel="noopener me"
            aria-label="mastodon"
            title="mastodon"
          >
            <i class="fa-brands fa-mastodon fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://www.linkedin.com/in/magnus-toftdal/"
            target="_blank"
            rel="noopener me"
            aria-label="Linkedin"
            title="Linkedin"
          >
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="mailto:toftdal@hey.com"
            target="_blank"
            rel="noopener me"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Magnus Toftdal
        2024
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script></div>
</aside>
      <main
        
          class="wrapper__main wrapper__main--fullscreen"
        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/index.xml"
              
              title=""
              >RSS</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/about"
              
              title=""
              >About</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/2024"
              
              title=""
              >2024</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/2023"
              
              title=""
              >2023</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>
      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown
    "
  >
    
    <div class="post__content">
      <h1>Rant - Azure Portal</h1>
      <h3 id="context">Context</h3>
<p>I am trying to troubleshoot connection issues from my web app to the database.</p>
<h4 id="installing-a-local-postgres-client">Installing a local PostGres client</h4>
<p>This all went fine (it&rsquo;s kind of a mess with how it is structured, but by no means the worst I&rsquo;ve seen).</p>
<h4 id="connecting-to-the-azure-database">Connecting to the Azure database</h4>
<p>Here, things went rapidly down-hill. I followed the guide from the Azure Portal:</p>
<pre><code>Open pgAdmin 4: Launch the pgAdmin 4 application on your computer.
Register a new server: In the pgAdmin 4 interface, right-click on &quot;Servers&quot; in the left-side browser tree, and select &quot;Register” -&gt; “Server&quot;
Configure server details: In the &quot;Register - Server&quot; window, you will see multiple tabs - &quot;General&quot;, &quot;Connection&quot;, &quot;SSL&quot;, and others. Fill in the following details:

    General tab
        Name: Provide a name for the connection (e.g., &quot;myAzureFlexInstance&quot;).
    Connection tab
        Hostname/address: Enter &lt;url for Azure database&gt;
        Port: Leave the port number as is (default is 5432) if you don't want to connect through pgBouncer. If you are using PgBouncer for connection pooling, change the port number to 6432.
        Maintenance database: Leave the default
        Username: Enter &lt;username left blank for this post&gt;
        Password: Click on the &quot;Save password&quot; checkbox if you want the password to be preserved and enter the corresponding password for the user.

Save the configuration: Click the &quot;Save&quot; button to save the server registration. pgAdmin 4 will now establish a connection to your Azure Database for PostgreSQL Flexible Server.
</code></pre>
<p>This would be fine, if it actually worked - it does not. The pgAdmin client complains: &ldquo;Unable to connect to server: connection is bad: No such host is known.&rdquo;</p>
<p>Now. There is a lot of security around cloud-based offerings, which is fine. But for all that is holy - explain which steps and options I have to complete.</p>
<h3 id="internet-to-the-rescue">Internet to the rescue?</h3>
<p>I&rsquo;ve worked with this crap for what feels like an eternity - and usually somebody else will have had the same problem and somehow managed to get through and out of the kindness of their heart published the steps they took to resolve the issue. Enter my new best friend: <a href="https://www.sqlshack.com/accessing-azure-database-for-postgresql-using-pgadmin/">SQL Shack</a>. Everything in this guide is sublime - fine background, introduction and clean screenshots. Except for one small detail: The screenshots are all out-of-date. I&rsquo;m running pgAdmin 4, version 7.8 - they have used version &hellip; something earlier, but still 4-something. However, the changes in pgAdmin are fairly straightforward, so the intent is clear and I can achieve the same in the new UI.</p>
<p>The Azure screenshots, however&hellip; It looks nothing like it - menu items have been renamed, re-arranged and look nothing like they did in May 2021. The relevant settings, I need are under the heading &ldquo;Settings&rdquo;:</p>
<pre><code>May 2021                    November 2023
-------------------------   -------------------------
Connection security
Connection strings
Server parameters           Server parameters
Replication                 Replication
Active Directory admin
Pricing tier
Properties
Locks                       Locks
</code></pre>
<p>Three(!) out of eight menu items are the same. Everything else (including the things I need) are completely different. Nothing is called &lsquo;Firewall&rsquo; (which is what I am looking for to allow connections from my workstation). If I use the search box - no results for &lsquo;Firewall&rsquo;. I&rsquo;ve clicked every single item under &lsquo;Settings&rsquo; - no where is &lsquo;firewall&rsquo; found.</p>
<p>Dear Microsoft - do you know what that signals to me? That you have no idea where you&rsquo;re going. There&rsquo;s no strategy, just project groups milling around, adding things willy-nilly because &lsquo;we can always change it later&rsquo;. This does not inspire confidence - it inspires uncertainty as in: &lsquo;I wonder how long the thing I&rsquo;m making will keep working&rsquo;. And the problem does not stop with nice people working for free for you - Microsoft&rsquo;s own guides, tutorials and other resources are similarly out-of-date.</p>
<p>And this is not some esoteric, edge-case problem, I&rsquo;m struggling with. I&rsquo;m trying to connect to a database. That&rsquo;s it. A problem that&rsquo;s been around since the world was in black&rsquo;n&rsquo;white. It&rsquo;s well-known technology and just because it is hosted in Azure changes nothing around the basic concepts.</p>
<p>PS! Once I&rsquo;ve figured out how to get it to work, I&rsquo;ll post again to show how I managed it. That&rsquo;s how kind I am.</p>
</div>
    <div class="post__footer">
      

      
    </div>

    
  </div>

      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Magnus Toftdal
        2024
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script></body>
</html>
